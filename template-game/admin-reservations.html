<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"="width=device-width, initial-scale=1.0">
    <title>Gestión de Reservas - GGDeals</title>
    
    <!-- Enlaces CSS -->
    <link rel="shortcut icon" href="./assets/compiled/svg/favicon.svg" type="image/x-icon">
    <link rel="stylesheet" href="./assets/compiled/css/app.css">
    <link rel="stylesheet" href="./assets/compiled/css/app-dark.css">
    <link rel="stylesheet" href="./assets/compiled/css/iconly.css">
    <link rel="stylesheet" href="./assets/extensions/datatables.net-bs5/css/dataTables.bootstrap5.min.css">
    <link rel="stylesheet" href="./assets/compiled/css/table-datatable-jquery.css">
    <link rel="stylesheet" href="./assets/extensions/bootstrap-icons/font/bootstrap-icons.css">
    <!-- CSS de Flatpickr para el calendario -->
    <link rel="stylesheet" href="./assets/extensions/flatpickr/flatpickr.min.css">
</head>

<body>
    <script src="assets/static/js/initTheme.js"></script>
    <div id="app">
        <div id="main" class="layout-horizontal">
            <header class="mb-5">
                <div class="header-top">
                    <div class="container">
                        <div class="logo">
                            <a href="admin.html"><img src="./assets/compiled/svg/logo.svg" alt="Logo"> </a>
                        </div>
                        <div class="header-top-right">
                            <div class="dropdown">
                                <a href="#" id="topbarUserDropdown" class="user-dropdown d-flex align-items-center dropend dropdown-toggle " data-bs-toggle="dropdown" aria-expanded="false">
                                    <div class="avatar avatar-md2" >
                                        <img src="./assets/compiled/jpg/1.jpg" alt="Avatar">
                                    </div>
                                    <div class="text">
                                        <h6 class="user-dropdown-name">Administrador</h6>
                                        <p class="user-dropdown-status text-sm text-muted">Administrador</p>
                                    </div>
                                </a>
                                <ul class="dropdown-menu dropdown-menu-end shadow-lg" aria-labelledby="topbarUserDropdown">
                                  <li><a class="dropdown-item" href="admin-profile.html">Mi Perfil</a></li>
                                  <li><a class="dropdown-item" href="admin-password.html">Cambiar Contraseña</a></li>
                                  <li><hr class="dropdown-divider"></li>
                                  <li><a class="dropdown-item" href="index.html">Cerrar Sesión</a></li>
                                </ul>
                            </div>

                            <!-- Burger button responsive -->
                            <a href="#" class="burger-btn d-block d-xl-none">
                                <i class="bi bi-justify fs-3"></i>
                            </a>
                        </div>
                    </div>
                </div>
                <nav class="main-navbar">
                    <div class="container">
                        <ul>
                            <li class="menu-item">
                                <a href="admin.html" class='menu-link'>
                                    <span><i class="bi bi-grid-fill"></i> Dashboard</span>
                                </a>
                            </li>
                            
                            <li class="menu-item">
                                <a href="admin-users.html" class='menu-link'>
                                    <span><i class="bi bi-people-fill"></i> Usuarios</span>
                                </a>
                            </li>
                            
                            <li class="menu-item">
                                <a href="admin-games.html" class='menu-link'>
                                    <span><i class="bi bi-joystick"></i> Videojuegos</span>
                                </a>
                            </li>
                            
                            <li class="menu-item">
                                <a href="admin-keys.html" class='menu-link'>
                                    <span><i class="bi bi-key-fill"></i> Réplicas</span>
                                </a>
                            </li>
                            
                            <li class="menu-item">
                                <a href="admin-sales.html" class='menu-link'>
                                    <span><i class="bi bi-cart-fill"></i> Ventas</span>
                                </a>
                            </li>
                            
                            <li class="menu-item active">
                                <a href="admin-reservations.html" class='menu-link'>
                                    <span><i class="bi bi-bookmark-fill"></i> Reservas</span>
                                </a>
                            </li>
                            
                            <li class="menu-item has-sub">
                                <a href="#" class='menu-link'>
                                    <span><i class="bi bi-list-check"></i> Catálogos</span>
                                </a>
                                <div class="submenu">
                                    <div class="submenu-group-wrapper">
                                        <ul class="submenu-group">
                                            <li class="submenu-item">
                                                <a href="admin-platforms.html" class='submenu-link'>Plataformas</a>
                                            </li>
                                            <li class="submenu-item">
                                                <a href="admin-editions.html" class='submenu-link'>Ediciones</a>
                                            </li>
                                            <li class="submenu-item">
                                                <a href="admin-features.html" class='submenu-link'>Características</a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </nav>
            </header>

            <div class="content-wrapper container">
                <div class="page-heading">
                    <h3>Gestión de Reservas</h3>
                </div>
                <div class="page-content">
                    <!-- Filtros y Estadísticas -->
                    <section class="row">
                        <div class="col-12 col-lg-9">
                            <div class="card">
                                <div class="card-header">
                                    <h4>Filtros de Reservas</h4>
                                </div>
                                <div class="card-body">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4 mb-3">
                                                <label for="reservationStatus" class="form-label">Estado</label>
                                                <select class="form-select" id="reservationStatus">
                                                    <option value="all" selected>Todos</option>
                                                    <option value="active">Activas</option>
                                                    <option value="completed">Completadas</option>
                                                    <option value="cancelled">Canceladas</option>
                                                </select>
                                            </div>
                                            <div class="col-md-4 mb-3">
                                                <label for="releaseFilter" class="form-label">Fecha de Lanzamiento</label>
                                                <select class="form-select" id="releaseFilter">
                                                    <option value="all" selected>Todas las fechas</option>
                                                    <option value="upcoming30">Próximos 30 días</option>
                                                    <option value="upcoming60">Próximos 60 días</option>
                                                    <option value="upcoming90">Próximos 90 días</option>
                                                    <option value="custom">Rango personalizado</option>
                                                </select>
                                            </div>
                                            <div class="col-md-4 mb-3" id="customReleaseRange" style="display: none;">
                                                <label class="form-label">Rango Personalizado</label>
                                                <div class="input-group">
                                                    <input type="text" class="form-control flatpickr-range" placeholder="Seleccionar rango de fechas">
                                                    <span class="input-group-text"><i class="bi bi-calendar"></i></span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-4 mb-3">
                                                <label for="userFilterRes" class="form-label">Usuario</label>
                                                <select class="form-select" id="userFilterRes">
                                                    <option value="" selected>Todos los usuarios</option>
                                                    <option value="1">Juan Pérez</option>
                                                    <option value="2">Ana López</option>
                                                    <option value="3">Mario García</option>
                                                    <option value="4">Laura Martínez</option>
                                                    <option value="5">Roberto Sánchez</option>
                                                </select>
                                            </div>
                                            <div class="col-md-4 mb-3">
                                                <label for="gameFilterRes" class="form-label">Juego</label>
                                                <select class="form-select" id="gameFilterRes">
                                                    <option value="" selected>Todos los juegos</option>
                                                    <option value="1">GTA VI</option>
                                                    <option value="2">Elder Scrolls VI</option>
                                                    <option value="3">Elden Ring DLC</option>
                                                    <option value="4">Starfield</option>
                                                    <option value="5">Dragon Age: Dreadwolf</option>
                                                </select>
                                            </div>
                                            <div class="col-md-4 mb-3">
                                                <label for="platformFilterRes" class="form-label">Plataforma</label>
                                                <select class="form-select" id="platformFilterRes">
                                                    <option value="" selected>Todas las plataformas</option>
                                                    <option value="1">PC</option>
                                                    <option value="2">PlayStation 5</option>
                                                    <option value="3">PlayStation 4</option>
                                                    <option value="4">Xbox Series X|S</option>
                                                    <option value="5">Xbox One</option>
                                                    <option value="6">Nintendo Switch</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="d-flex justify-content-end">
                                            <button type="button" class="btn btn-light me-2">Limpiar</button>
                                            <button type="button" class="btn btn-primary">Aplicar Filtros</button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-lg-3">
                            <div class="card">
                                <div class="card-header">
                                    <h4>Resumen de Reservas</h4>
                                </div>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-12">
                                            <div class="card border shadow-none mb-3">
                                                <div class="card-body p-3">
                                                    <div class="d-flex align-items-center">
                                                        <div class="avatar avatar-md">
                                                            <div class="avatar-initial bg-primary rounded">
                                                                <i class="bi bi-bookmark-star-fill text-white"></i>
                                                            </div>
                                                        </div>
                                                        <div class="ms-3">
                                                            <h5 class="mb-0">Total Reservas</h5>
                                                            <p class="mb-0 text-muted">245</p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-12">
                                            <div class="card border shadow-none mb-3">
                                                <div class="card-body p-3">
                                                    <div class="d-flex align-items-center">
                                                        <div class="avatar avatar-md">
                                                            <div class="avatar-initial bg-success rounded">
                                                                <i class="bi bi-clock-fill text-white"></i>
                                                            </div>
                                                        </div>
                                                        <div class="ms-3">
                                                            <h5 class="mb-0">Activas</h5>
                                                            <p class="mb-0 text-muted">198</p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-12">
                                            <div class="card border shadow-none mb-0">
                                                <div class="card-body p-3">
                                                    <div class="d-flex align-items-center">
                                                        <div class="avatar avatar-md">
                                                            <div class="avatar-initial bg-info rounded">
                                                                <i class="bi bi-cash-coin text-white"></i>
                                                            </div>
                                                        </div>
                                                        <div class="ms-3">
                                                            <h5 class="mb-0">Valor Total</h5>
                                                            <p class="mb-0 text-muted">€ 12,348.50</p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                    
                    <!-- Lista de Reservas -->
                    <section class="row">
                        <div class="col-12">
                            <div class="card">
                                <div class="card-header">
                                    <h4>Lista de Reservas</h4>
                                </div>
                                <div class="card-body">
                                    <div class="table-responsive">
                                        <table class="table table-striped" id="reservationsTable">
                                            <thead>
                                                <tr>
                                                    <th>ID</th>
                                                    <th>Fecha Disponible</th>
                                                    <th>ID Usuario</th>
                                                    <th>ID Juego</th>
                                                    <th>Acciones</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>1</td>
                                                    <td>15/10/2025</td>
                                                    <td>1</td>
                                                    <td>4</td>
                                                    <td>
                                                        <div class="dropdown">
                                                            <button class="btn btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                                                <i class="bi bi-three-dots-vertical"></i>
                                                            </button>
                                                            <ul class="dropdown-menu">
                                                                <li><a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#viewReservationModal"><i class="bi bi-eye"></i> Ver Detalles</a></li>
                                                                <li><a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#editReservationModal"><i class="bi bi-pencil"></i> Editar</a></li>
                                                                <li><hr class="dropdown-divider"></li>
                                                                <li><a class="dropdown-item text-danger" href="#" data-bs-toggle="modal" data-bs-target="#cancelReservationModal"><i class="bi bi-x-circle"></i> Cancelar Reserva</a></li>
                                                            </ul>
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>2</td>
                                                    <td>22/11/2025</td>
                                                    <td>2</td>
                                                    <td>5</td>
                                                    <td>
                                                        <div class="dropdown">
                                                            <button class="btn btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                                                <i class="bi bi-three-dots-vertical"></i>
                                                            </button>
                                                            <ul class="dropdown-menu">
                                                                <li><a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#viewReservationModal"><i class="bi bi-eye"></i> Ver Detalles</a></li>
                                                                <li><a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#editReservationModal"><i class="bi bi-pencil"></i> Editar</a></li>
                                                                <li><hr class="dropdown-divider"></li>
                                                                <li><a class="dropdown-item text-danger" href="#" data-bs-toggle="modal" data-bs-target="#cancelReservationModal"><i class="bi bi-x-circle"></i> Cancelar Reserva</a></li>
                                                            </ul>
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>3</td>
                                                    <td>15/06/2025</td>
                                                    <td>3</td>
                                                    <td>2</td>
                                                    <td>
                                                        <div class="dropdown">
                                                            <button class="btn btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                                                <i class="bi bi-three-dots-vertical"></i>
                                                            </button>
                                                            <ul class="dropdown-menu">
                                                                <li><a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#viewReservationModal"><i class="bi bi-eye"></i> Ver Detalles</a></li>
                                                                <li><a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#editReservationModal"><i class="bi bi-pencil"></i> Editar</a></li>
                                                                <li><hr class="dropdown-divider"></li>
                                                                <li><a class="dropdown-item text-danger" href="#" data-bs-toggle="modal" data-bs-target="#cancelReservationModal"><i class="bi bi-x-circle"></i> Cancelar Reserva</a></li>
                                                            </ul>
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>4</td>
                                                    <td>02/08/2025</td>
                                                    <td>4</td>
                                                    <td>3</td>
                                                    <td>
                                                        <div class="dropdown">
                                                            <button class="btn btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                                                <i class="bi bi-three-dots-vertical"></i>
                                                            </button>
                                                            <ul class="dropdown-menu">
                                                                <li><a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#viewReservationModal"><i class="bi bi-eye"></i> Ver Detalles</a></li>
                                                                <li><a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#editReservationModal"><i class="bi bi-pencil"></i> Editar</a></li>
                                                                <li><hr class="dropdown-divider"></li>
                                                                <li><a class="dropdown-item text-danger" href="#" data-bs-toggle="modal" data-bs-target="#cancelReservationModal"><i class="bi bi-x-circle"></i> Cancelar Reserva</a></li>
                                                            </ul>
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>5</td>
                                                    <td>30/09/2025</td>
                                                    <td>5</td>
                                                    <td>1</td>
                                                    <td>
                                                        <div class="dropdown">
                                                            <button class="btn btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                                                <i class="bi bi-three-dots-vertical"></i>
                                                            </button>
                                                            <ul class="dropdown-menu">
                                                                <li><a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#viewReservationModal"><i class="bi bi-eye"></i> Ver Detalles</a></li>
                                                                <li><a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#editReservationModal"><i class="bi bi-pencil"></i> Editar</a></li>
                                                                <li><hr class="dropdown-divider"></li>
                                                                <li><a class="dropdown-item text-danger" href="#" data-bs-toggle="modal" data-bs-target="#cancelReservationModal"><i class="bi bi-x-circle"></i> Cancelar Reserva</a></li>
                                                            </ul>
                                                        </div>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                    
                    <!-- Juegos más Reservados -->
                    <section class="row">
                        <div class="col-12">
                            <div class="card">
                                <div class="card-header">
                                    <h4>Juegos más Reservados</h4>
                                </div>
                                <div class="card-body">
                                    <div class="table-responsive">
                                        <table class="table table-hover">
                                            <thead>
                                                <tr>
                                                    <th>Juego</th>
                                                    <th>Fecha Lanzamiento</th>
                                                    <th>Reservas Activas</th>
                                                    <th>Precio Reserva</th>
                                                    <th>Total Reservado</th>
                                                    <th>% del Total</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>
                                                        <div class="d-flex align-items-center">
                                                            <div class="avatar avatar-md me-3">
                                                                <img src="./assets/compiled/jpg/4.jpg">
                                                            </div>
                                                            <div>
                                                                <h6 class="mb-0">GTA VI</h6>
                                                                <p class="text-muted mb-0">Rockstar Games</p>
                                                            </div>
                                                        </div>
                                                    </td>
                                                    <td>15/10/2025</td>
                                                    <td>89</td>
                                                    <td>€ 69.99</td>
                                                    <td>€ 6,229.11</td>
                                                    <td>
                                                        <div class="d-flex align-items-center">
                                                            <span class="me-2">44.9%</span>
                                                            <div class="progress" style="width: 100px; height: 5px">
                                                                <div class="progress-bar" role="progressbar" style="width: 44.9%" aria-valuenow="44.9" aria-valuemin="0" aria-valuemax="100"></div>
                                                            </div>
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <div class="d-flex align-items-center">
                                                            <div class="avatar avatar-md me-3">
                                                                <img src="./assets/compiled/jpg/5.jpg">
                                                            </div>
                                                            <div>
                                                                <h6 class="mb-0">Elder Scrolls VI</h6>
                                                                <p class="text-muted mb-0">Bethesda</p>
                                                            </div>
                                                        </div>
                                                    </td>
                                                    <td>22/11/2025</td>
                                                    <td>67</td>
                                                    <td>€ 59.99</td>
                                                    <td>€ 4,019.33</td>
                                                    <td>
                                                        <div class="d-flex align-items-center">
                                                            <span class="me-2">33.8%</span>
                                                            <div class="progress" style="width: 100px; height: 5px">
                                                                <div class="progress-bar" role="progressbar" style="width: 33.8%" aria-valuenow="33.8" aria-valuemin="0" aria-valuemax="100"></div>
                                                            </div>
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <div class="d-flex align-items-center">
                                                            <div class="avatar avatar-md me-3">
                                                                <img src="./assets/compiled/jpg/1.jpg">
                                                            </div>
                                                            <div>
                                                                <h6 class="mb-0">Elden Ring DLC</h6>
                                                                <p class="text-muted mb-0">FromSoftware</p>
                                                            </div>
                                                        </div>
                                                    </td>
                                                    <td>15/06/2025</td>
                                                    <td>42</td>
                                                    <td>€ 39.99</td>
                                                    <td>€ 1,679.58</td>
                                                    <td>
                                                        <div class="d-flex align-items-center">
                                                            <span class="me-2">21.2%</span>
                                                            <div class="progress" style="width: 100px; height: 5px">
                                                                <div class="progress-bar" role="progressbar" style="width: 21.2%" aria-valuenow="21.2" aria-valuemin="0" aria-valuemax="100"></div>
                                                            </div>
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <div class="d-flex align-items-center">
                                                            <div class="avatar avatar-md me-3">
                                                                <img src="./assets/compiled/jpg/2.jpg">
                                                            </div>
                                                            <div>
                                                                <h6 class="mb-0">Starfield</h6>
                                                                <p class="text-muted mb-0">Bethesda</p>
                                                            </div>
                                                        </div>
                                                    </td>
                                                    <td>02/08/2025</td>
                                                    <td>26</td>
                                                    <td>€ 49.99</td>
                                                    <td>€ 1,299.74</td>
                                                    <td>
                                                        <div class="d-flex align-items-center">
                                                            <span class="me-2">13.0%</span>
                                                            <div class="progress" style="width: 100px; height: 5px">
                                                                <div class="progress-bar" role="progressbar" style="width: 13.0%" aria-valuenow="13.0" aria-valuemin="0" aria-valuemax="100"></div>
                                                            </div>
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <div class="d-flex align-items-center">
                                                            <div class="avatar avatar-md me-3">
                                                                <img src="./assets/compiled/jpg/3.jpg">
                                                            </div>
                                                            <div>
                                                                <h6 class="mb-0">Dragon Age: Dreadwolf</h6>
                                                                <p class="text-muted mb-0">BioWare</p>
                                                            </div>
                                                        </div>
                                                    </td>
                                                    <td>30/09/2025</td>
                                                    <td>19</td>
                                                    <td>€ 59.99</td>
                                                    <td>€ 1,139.81</td>
                                                    <td>
                                                        <div class="d-flex align-items-center">
                                                            <span class="me-2">9.5%</span>
                                                            <div class="progress" style="width: 100px; height: 5px">
                                                                <div class="progress-bar" role="progressbar" style="width: 9.5%" aria-valuenow="9.5" aria-valuemin="0" aria-valuemax="100"></div>
                                                            </div>
                                                        </div>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
            </div>

            <footer>
                <div class="container">
                    <div class="footer clearfix mb-0 text-muted">
                        <div class="float-start">
                            <p>2025 &copy; GGDeals Admin</p>
                        </div>
                        
                    </div>
                </div>
            </footer>
        </div>
    </div>

    <!-- Modales -->
    <!-- Modal Ver Reserva -->
    <div class="modal fade" id="viewReservationModal" tabindex="-1" aria-labelledby="viewReservationModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="viewReservationModalLabel">Detalles de la Reserva #1</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row mb-4">
                        <div class="col-md-6">
                            <h6 class="text-muted">Información de la Reserva</h6>
                            <div class="mt-3">
                                <p class="mb-1"><strong>ID de Reserva:</strong> #1</p>
                                <p class="mb-1"><strong>Fecha de Reserva:</strong> 12/04/2025</p>
                                <p class="mb-1"><strong>Estado:</strong> <span class="badge bg-success">Activa</span></p>
                                <p class="mb-1"><strong>Edición:</strong> Estándar</p>
                                <p class="mb-1"><strong>Precio de Reserva:</strong> <span class="font-bold">€ 69.99</span></p>
                                <p class="mb-1"><strong>Anticipo Pagado:</strong> <span class="font-bold">€ 10.00</span></p>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <h6 class="text-muted">Información del Cliente</h6>
                            <div class="mt-3">
                                <p class="mb-1"><strong>Nombre:</strong> Juan Pérez</p>
                                <p class="mb-1"><strong>Email:</strong> juan.perez@email.com</p>
                                <p class="mb-1"><strong>Teléfono:</strong> +34 612 345 678</p>
                                <p class="mb-1"><strong>ID de Cliente:</strong> #1</p>
                                <p class="mb-1"><strong>Reservas Activas:</strong> 2</p>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <h6 class="text-muted">Producto Reservado</h6>
                            <div class="d-flex align-items-center mt-3">
                                <div class="avatar avatar-xl me-3">
                                    <img src="./assets/compiled/jpg/4.jpg">
                                </div>
                                <div>
                                    <h5 class="mb-1">GTA VI</h5>
                                    <p class="text-muted mb-1">Rockstar Games</p>
                                    <div class="mb-2">
                                        <span class="badge bg-primary me-1">PlayStation 5</span>
                                        <span class="badge bg-success me-1">Estándar</span>
                                    </div>
                                    <p class="mb-0"><strong>Fecha de Lanzamiento:</strong> 15/10/2025 (En 164 días)</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row mt-4">
                        <div class="col-12">
                            <h6 class="text-muted">Notas</h6>
                            <p>El cliente ha solicitado ser notificado cuando el juego esté disponible para su recogida en tienda. Prefiere recibir notificaciones por WhatsApp.</p>
                        </div>
                    </div>
                    <div class="row mt-4">
                        <div class="col-12">
                            <h6 class="text-muted">Historial de la Reserva</h6>
                            <div class="timeline mt-3">
                                <div class="timeline-item">
                                    <div class="timeline-marker bg-success"></div>
                                    <div class="timeline-content">
                                        <h6 class="mb-0">12/04/2025 - 14:30:22</h6>
                                        <p>Reserva creada con éxito</p>
                                    </div>
                                </div>
                                <div class="timeline-item">
                                    <div class="timeline-marker bg-info"></div>
                                    <div class="timeline-content">
                                        <h6 class="mb-0">12/04/2025 - 14:29:15</h6>
                                        <p>Anticipo procesado correctamente</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                    <button type="button" class="btn btn-success" data-bs-dismiss="modal" data-bs-toggle="modal" data-bs-target="#confirmReservationModal">Confirmar Reserva</button>
                    <button type="button" class="btn btn-danger" data-bs-dismiss="modal" data-bs-toggle="modal" data-bs-target="#cancelReservationModal">Cancelar Reserva</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Editar Reserva -->
    <div class="modal fade" id="editReservationModal" tabindex="-1" aria-labelledby="editReservationModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="editReservationModalLabel">Editar Reserva #1</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="mb-3">
                            <label for="editReservationId" class="form-label">ID de Reserva</label>
                            <input type="number" class="form-control" id="editReservationId" value="1" readonly>
                        </div>
                        <div class="mb-3">
                            <label for="editReservationDate" class="form-label">Fecha Disponible</label>
                            <input type="date" class="form-control" id="editReservationDate" value="2025-10-15">
                        </div>
                        <div class="mb-3">
                            <label for="editReservationUserId" class="form-label">ID Usuario</label>
                            <select class="form-select" id="editReservationUserId">
                                <option value="1" selected>1 - Juan Pérez</option>
                                <option value="2">2 - Ana López</option>
                                <option value="3">3 - Mario García</option>
                                <option value="4">4 - Laura Martínez</option>
                                <option value="5">5 - Roberto Sánchez</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="editReservationGameId" class="form-label">ID Juego</label>
                            <select class="form-select" id="editReservationGameId">
                                <option value="1">1 - GTA VI</option>
                                <option value="2">2 - Elder Scrolls VI</option>
                                <option value="3">3 - Elden Ring DLC</option>
                                <option value="4" selected>4 - Starfield</option>
                                <option value="5">5 - Dragon Age: Dreadwolf</option>
                            </select>
                        </div>
                        <div class="alert alert-warning">
                            <i class="bi bi-exclamation-circle"></i> Cambiar detalles de la reserva puede afectar a las estadísticas y reportes. Asegúrate de que los cambios son necesarios.
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary">Guardar Cambios</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Confirmar Reserva -->
    <div class="modal fade" id="confirmReservationModal" tabindex="-1" aria-labelledby="confirmReservationModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="confirmReservationModalLabel">Confirmar Reserva</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="text-center mb-4">
                        <i class="bi bi-check-circle text-success" style="font-size: 3rem;"></i>
                        <h4 class="mt-3">Confirmar Reserva</h4>
                        <p>Estás a punto de confirmar la reserva <strong>#1</strong> de <strong>Juan Pérez</strong> para <strong>GTA VI</strong>.</p>
                    </div>
                    <div class="alert alert-info">
                        <i class="bi bi-info-circle"></i> Confirmar la reserva indica que el pedido ha sido procesado y está garantizado para el cliente. El cliente será notificado por email sobre esta actualización.
                    </div>
                    <div class="form-check mb-3">
                        <input class="form-check-input" type="checkbox" id="sendConfirmationEmail" checked>
                        <label class="form-check-label" for="sendConfirmationEmail">
                            Enviar email de confirmación al cliente
                        </label>
                    </div>
                    <div class="form-check mb-3">
                        <input class="form-check-input" type="checkbox" id="requestRemainingPayment">
                        <label class="form-check-label" for="requestRemainingPayment">
                            Solicitar pago restante (€ 59.99)
                        </label>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-success">Confirmar Reserva</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Cancelar Reserva -->
    <div class="modal fade" id="cancelReservationModal" tabindex="-1" aria-labelledby="cancelReservationModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="cancelReservationModalLabel">Cancelar Reserva</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="text-center mb-4">
                        <i class="bi bi-exclamation-triangle text-danger" style="font-size: 3rem;"></i>
                        <h4 class="mt-3">¿Estás seguro?</h4>
                        <p>¿Realmente deseas cancelar la reserva <strong>#1</strong> de <strong>Juan Pérez</strong> para <strong>GTA VI</strong>?</p>
                    </div>
                    <div class="mb-3">
                        <label for="cancelReservationReason" class="form-label">Motivo de Cancelación</label>
                        <select class="form-select" id="cancelReservationReason">
                            <option value="" selected disabled>Selecciona un motivo</option>
                            <option value="customer_request">Solicitud del cliente</option>
                            <option value="payment_issue">Problema con el pago</option>
                            <option value="duplicate_order">Reserva duplicada</option>
                            <option value="product_cancelled">Producto cancelado por el distribuidor</option>
                            <option value="other">Otro</option>
                        </select>
                    </div>
                    <div class="mb-3" id="otherReservationReasonContainer" style="display: none;">
                        <label for="otherReservationReason" class="form-label">Especificar otro motivo</label>
                        <textarea class="form-control" id="otherReservationReason" rows="3"></textarea>
                    </div>
                    <div class="form-check mb-3">
                        <input class="form-check-input" type="checkbox" id="refundReservationDeposit" checked>
                        <label class="form-check-label" for="refundReservationDeposit">
                            Reembolsar anticipo al cliente (€ 10.00)
                        </label>
                    </div>
                    <div class="form-check mb-3">
                        <input class="form-check-input" type="checkbox" id="notifyReservationCustomer" checked>
                        <label class="form-check-label" for="notifyReservationCustomer">
                            Notificar al cliente por email
                        </label>
                    </div>
                    <div class="alert alert-warning">
                        <i class="bi bi-exclamation-circle"></i> Esta acción no se puede deshacer automáticamente. Si deseas restaurar la reserva después, deberás hacerlo manualmente.
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Volver</button>
                    <button type="button" class="btn btn-danger">Confirmar Cancelación</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Restaurar Reserva -->
    <div class="modal fade" id="restoreReservationModal" tabindex="-1" aria-labelledby="restoreReservationModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="restoreReservationModalLabel">Restaurar Reserva</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="text-center mb-4">
                        <i class="bi bi-arrow-repeat text-primary" style="font-size: 3rem;"></i>
                        <h4 class="mt-3">¿Restaurar esta reserva?</h4>
                        <p>Estás a punto de restaurar la reserva <strong>#5</strong> de <strong>Roberto Sánchez</strong> que fue cancelada anteriormente.</p>
                    </div>
                    <div class="mb-3">
                        <label for="restoreReservationStatus" class="form-label">Estado después de restaurar</label>
                        <select class="form-select" id="restoreReservationStatus">
                            <option value="active" selected>Activa</option>
                            <option value="confirmed">Confirmada</option>
                        </select>
                    </div>
                    <div class="form-check mb-3">
                        <input class="form-check-input" type="checkbox" id="requestNewDeposit">
                        <label class="form-check-label" for="requestNewDeposit">
                            Solicitar nuevo anticipo al cliente
                        </label>
                    </div>
                    <div class="form-check mb-3">
                        <input class="form-check-input" type="checkbox" id="notifyRestoredReservation" checked>
                        <label class="form-check-label" for="notifyRestoredReservation">
                            Notificar al cliente por email
                        </label>
                    </div>
                    <div class="alert alert-info">
                        <i class="bi bi-info-circle"></i> Al restaurar esta reserva, se volverá a registrar en el sistema y se actualizarán las estadísticas de reservas.
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary">Restaurar Reserva</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Convertir a Venta -->
    <div class="modal fade" id="convertToSaleModal" tabindex="-1" aria-labelledby="convertToSaleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="convertToSaleModalLabel">Convertir Reserva a Venta</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="alert alert-success mb-4">
                        <div class="d-flex">
                            <i class="bi bi-check-circle-fill me-2" style="font-size: 1.5rem;"></i>
                            <div>
                                <h5 class="alert-heading">¡Juego disponible!</h5>
                                <p class="mb-0">El juego <strong>Elden Ring DLC</strong> ya está disponible para su entrega al cliente.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row mb-4">
                        <div class="col-md-6">
                            <h6 class="text-muted">Información de la Reserva</h6>
                            <div class="mt-3">
                                <p class="mb-1"><strong>ID de Reserva:</strong> #3</p>
                                <p class="mb-1"><strong>Cliente:</strong> Mario García</p>
                                <p class="mb-1"><strong>Email:</strong> mario.garcia@email.com</p>
                                <p class="mb-1"><strong>Teléfono:</strong> +34 698 765 432</p>
                                <p class="mb-1"><strong>Producto:</strong> Elden Ring DLC</p>
                                <p class="mb-1"><strong>Plataforma:</strong> Xbox Series X</p>
                                <p class="mb-1"><strong>Anticipo Pagado:</strong> <span class="font-bold">€ 10.00</span></p>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <h6 class="text-muted">Información de la Venta</h6>
                            <form>
                                <div class="mb-3">
                                    <label for="salePrice" class="form-label">Precio Final (€)</label>
                                    <input type="number" step="0.01" class="form-control" id="salePrice" value="39.99">
                                </div>
                                <div class="mb-3">
                                    <label for="remainingAmount" class="form-label">Importe Restante (€)</label>
                                    <input type="number" step="0.01" class="form-control" id="remainingAmount" value="29.99" readonly>
                                </div>
                                <div class="mb-3">
                                    <label for="paymentMethod" class="form-label">Método de Pago</label>
                                    <select class="form-select" id="paymentMethod">
                                        <option value="cash">Efectivo</option>
                                        <option value="card" selected>Tarjeta de Crédito</option>
                                        <option value="transfer">Transferencia Bancaria</option>
                                        <option value="paypal">PayPal</option>
                                    </select>
                                </div>
                            </form>
                        </div>
                    </div>
                    
                    <div class="mb-4">
                        <h6 class="text-muted">Seleccionar Réplica</h6>
                        <div class="table-responsive mt-2">
                            <table class="table table-bordered table-hover">
                                <thead>
                                    <tr>
                                        <th style="width: 50px;"></th>
                                        <th>Clave de Activación</th>
                                        <th>Edición</th>
                                        <th>Plataforma</th>
                                        <th>Estado</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>
                                            <div class="form-check">
                                                <input class="form-check-input" type="radio" name="keySelection" id="key1" checked>
                                                <label class="form-check-label" for="key1"></label>
                                            </div>
                                        </td>
                                        <td><code>XXXX-XXXX-XXXX-XXX1</code></td>
                                        <td>Estándar</td>
                                        <td>Xbox Series X</td>
                                        <td><span class="badge bg-success">Disponible</span></td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <div class="form-check">
                                                <input class="form-check-input" type="radio" name="keySelection" id="key2">
                                                <label class="form-check-label" for="key2"></label>
                                            </div>
                                        </td>
                                        <td><code>XXXX-XXXX-XXXX-XXX2</code></td>
                                        <td>Estándar</td>
                                        <td>Xbox Series X</td>
                                        <td><span class="badge bg-success">Disponible</span></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <div class="form-check mb-3">
                        <input class="form-check-input" type="checkbox" id="sendSaleConfirmation" checked>
                        <label class="form-check-label" for="sendSaleConfirmation">
                            Enviar confirmación de compra por email
                        </label>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-success">Completar Venta</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Añadir Reserva -->
    <div class="modal fade" id="addReservationModal" tabindex="-1" aria-labelledby="addReservationModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="addReservationModalLabel">Añadir Nueva Reserva</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="mb-3">
                            <label for="newReservationDate" class="form-label">Fecha Disponible</label>
                            <input type="date" class="form-control" id="newReservationDate" required>
                        </div>
                        <div class="mb-3">
                            <label for="newReservationUserId" class="form-label">ID Usuario</label>
                            <select class="form-select" id="newReservationUserId" required>
                                <option value="" selected disabled>Seleccione un usuario</option>
                                <option value="1">1 - Juan Pérez</option>
                                <option value="2">2 - Ana López</option>
                                <option value="3">3 - Mario García</option>
                                <option value="4">4 - Laura Martínez</option>
                                <option value="5">5 - Roberto Sánchez</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="newReservationGameId" class="form-label">ID Juego</label>
                            <select class="form-select" id="newReservationGameId" required>
                                <option value="" selected disabled>Seleccione un juego</option>
                                <option value="1">1 - GTA VI</option>
                                <option value="2">2 - Elder Scrolls VI</option>
                                <option value="3">3 - Elden Ring DLC</option>
                                <option value="4">4 - Starfield</option>
                                <option value="5">5 - Dragon Age: Dreadwolf</option>
                            </select>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary">Guardar</button>
                </div>
            </div>
        </div>
    </div>

    <script src="assets/static/js/components/dark.js"></script>
    <script src="assets/static/js/pages/horizontal-layout.js"></script>
    <script src="assets/extensions/perfect-scrollbar/perfect-scrollbar.min.js"></script>
    <script src="assets/compiled/js/app.js"></script>
    <script src="assets/extensions/jquery/jquery.min.js"></script>
    <script src="assets/extensions/datatables.net/js/jquery.dataTables.min.js"></script>
    <script src="assets/extensions/datatables.net-bs5/js/dataTables.bootstrap5.min.js"></script>
    <script src="assets/extensions/flatpickr/flatpickr.min.js"></script>
    
    <script>
        $(document).ready(function() {
            // Inicializar DataTable
            var table = $('#reservationsTable').DataTable({
                "language": {
                    "url": "//cdn.datatables.net/plug-ins/1.13.4/i18n/es-ES.json"
                },
                "order": [[1, 'desc']], // Ordenar por fecha (descendente)
            });
            
            // Inicializar Flatpickr para rangos de fechas
            flatpickr(".flatpickr-range", {
                mode: "range",
                dateFormat: "d/m/Y",
                locale: {
                    firstDayOfWeek: 1,
                    weekdays: {
                        shorthand: ['Do', 'Lu', 'Ma', 'Mi', 'Ju', 'Vi', 'Sa'],
                        longhand: ['Domingo', 'Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes', 'Sábado']
                    },
                    months: {
                        shorthand: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic'],
                        longhand: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre']
                    }
                }
            });
            
            // Mostrar/ocultar campos dependiendo de la selección
            $('#releaseFilter').change(function() {
                if ($(this).val() === 'custom') {
                    $('#customReleaseRange').show();
                } else {
                    $('#customReleaseRange').hide();
                }
            });
            
            $('#cancelReservationReason').change(function() {
                if ($(this).val() === 'other') {
                    $('#otherReservationReasonContainer').show();
                } else {
                    $('#otherReservationReasonContainer').hide();
                }
            });
            
            // Calcular importe restante al cambiar el precio final
            $('#salePrice').on('input', function() {
                var salePrice = parseFloat($(this).val()) || 0;
                var depositPaid = 10.00; // Esto podría venir de la base de datos
                var remaining = Math.max(0, salePrice - depositPaid).toFixed(2);
                $('#remainingAmount').val(remaining);
            });
        });
    </script>
</body>

</html>